# mendefinisikan versi Kubernetes API yang digunakan untuk membuat object dari manifest
apiVersion: v1

# rincian jenis object Service
kind: Service

# mendefinisikan data informasi tentang object Service
metadata:
  name: rabbitmq

# mendefinisikan spesifikasi object Service
spec:

  # mendifinisikan selector untuk mengidentifikasi Pod yang memiliki label app: rabbitmq
  selector:
    app: rabbitmq

  # mendefinisikan expose service port  5672 milik container (untuk RabbitMQ); serta port 15672 milik container (untuk management interface).
  ports:
    - name: http-amqp
      port: 5672
    - name: http-management
      port: 15672

  #  mengekspos Service pada port yang sama dari setiap Node yang dipilih di Cluster menggunakan NAT (network address translation). 
  #  Tipe ini membuat Service dapat diakses dari luar Cluster menggunakan format <NodeIP>:<NodePort>.
  type: NodePort